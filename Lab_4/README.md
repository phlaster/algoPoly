# Лабораторная работа №4
## Постановка задачи
Реализация сжатия и распаковки файлов, используя алгоритм Хаффмана.

## Алгоритм Хаффмана
Для реализации алгоритма сжатия данных с использованием кодов Хаффмана требуются следующие структуры данных:
- Таблица частот символов (байт) в исходных данных.
> За основу взят ассоциативный контейнер (хэш-таблица) map из стандартной библиотеки языка C++. Он хранит уникальные ключи, отсортированные в порядке возрастания и соответствующие им значения. Поскольку уникальных ключей в нашем случае не больше 256 (по числу уникальных байтов), можно было использовать и массив с заранее заданным количеством ячеек, но в общем случае, динамическая структура более гибко охватит ситуацию, когда в качестве ключей окажутся не байты, а их комбинации. В биоинформатике существует понятие k-мера – последовательности нуклеотидов длины k. Частотный анализ представленности различных k-меров в цепочках нулеотидов представляет  определённый практический интерес.
-  Дерево Хаффмана;
> В данной реализации дерево строится на основе очереди с приоритетами priority_queue из стандартной библиотеки C++. Это возможно, т.к. у узлов Node задана операция сравнения полей частот. Фактически, здесь реализована мин-куча. В мин-куче корневой элемент всегда имеет минимальное значение.
- Таблица кодов Хаффмана;
> Таблица кодов так же основана на map из стандартной библиотеки. В угоду производительности коды можно было представлять в виде битовых кортежей, но обычные стандартные строки, имеющие перегруженный оператор сложения, с этим тоже неплохо справляются.

Алгоритм сжатия данных с использованием кодов Хаффмана состоит из двух  основных этапов: построение таблицы кодов Хаффмана и кодирование данных с  использованием этой таблицы:
1. Построение таблицы кодов Хаффмана:
- Создаем таблицу частот символов в исходных данных;
- Строим дерево Хаффмана на основе таблицы частот;
- Генерируем таблицу кодов Хаффмана на основе дерева.
2. Кодирование данных:
- Читаем побайтово исходные данные;
- Каждый байт заменяем на его код из таблицы кодов Хаффмана.
- В заголовок выходного файла записываем таблицу частот байтов входного файла.
- Записываем данные в выходной файл, байты на их коды из таблицы кодов Хаффмана (в каждый байт может попасть не целое их количество).
3. Распаковка:
- Считываем таблицу частот из заголовка файла;
- На её основе строим дерево Хаффмана;
- Следуя побитово по содержимому файла, обходим дерево, начиная с корня, записывая в новый файл байт, хранящийся в листе;

## Компиляция и исполнение:
```sh
$ make # Сборка без отладочных флагов
$ ./build.out # Запуск с параметрами "по умолчанию"
$ make clean # Удаление объектных файлов
$ make purge # Удаление объектных и исполняемых файлов
```